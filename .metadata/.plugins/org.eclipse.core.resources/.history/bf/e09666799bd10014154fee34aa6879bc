package game;
import java.io.*;
import java.util.*;


public class weapon {

	
	private String weaponName;
	private int[] stats = new int[7];
	private int baseDamage;
	private int baseDurability;
	private int modCount;
	private String breakString;
	private boolean foundWeapon;
	
	
	public weapon(String name) throws FileNotFoundException {
		File f = new File("WeaponList.txt");
		Scanner findWeapon = new Scanner(new File("WeaponList.txt"));
		while (foundWeapon == false && findWeapon.hasNextLine()) {
			String thisLine = findWeapon.nextLine();
			if (name.equals(thisLine)) {
				weaponName = thisLine;
				foundWeapon = true;
				Scanner weaponStats = new Scanner(findWeapon.nextLine());
				for (int i = 0; i <= 6; i++) {
					stats[i] = weaponStats.nextInt();
				}
				baseDamage = stats[1];
				
				baseDurability = stats[2];
				breakString = findWeapon.nextLine();
				weaponStats.close();
			}
		}
		findWeapon.close();
	}
	
	
	public String examine() {
		return stats.toString();
	}
	
	
	public int[] use() {
		modCount--;
		stats[1]--;
		if (modCount == 0) {
			stats[1] = baseDamage;
			stats[5] = 0;
		}
		return stats;	
	}
	
	
	public String getBreakString() {
		return breakString;
	}
	
	public String modify(String modifier) {
		if (modifier.equals("fire")) {
			stats[5] = 1;
			stats[0] += 3;
			stats[5] = 50;
			return "You've applied fire to your " + weaponName + ".";
		}
		if (modifier.equals("sharpen")) {
			if (stats[0] >= 5) {
				return "You can't sharpen your " + weaponName + ".";
			} else {
				stats[2] = baseDurability;
				return "You've sharpened your " + weaponName + ".";
			}
		}
		return "";
	}
	
	
	
}
